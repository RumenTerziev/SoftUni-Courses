<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Calculator</title>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>


<div class="container">
    <h1>Simple Calculator</h1>
    <div class="input"><label for="in1">First Number</label><input id="in1" type="number"></div>
    <div class="input"><label for="in2">Second Number</label><input id="in2" type="number"></div>
    <div class="input">
        <label for="in3">Operation</label>
        <input id="in3" type="text" placeholder="add/subtract/multiply/divide">
    </div>
    <div class="btn-container">
        <button id="calc">calculate</button>
        <span>result:</span>
        <span id="result"></span>
    </div>

</div>

<script>
    function calc() {
        let in1 = document.getElementById('in1').value;
        let in2 = document.getElementById('in2').value;
        let in3 = document.getElementById('in3').value;

        let url = "api/calculator?firstNum=" + in1 + "&secondNum=" + in2 + "&operation=" + in3;
        let resSpan = document.getElementById('result');

        fetch(url)
            .then(resp => resp.text())
            .then((data) =>
                resSpan.innerText = data
            );
    }

    document.getElementById('calc').onclick = calc;


    function handleException(request, message, error) {
        let msg = "";

        msg += "Code: " + request.status + "\n";
        msg += "Text: " + request.statusText + "\n";
        if (request.responseJSON != null) {
            msg += "Message: " +
                request.responseJSON.message(msg) + "\n";
        }

        alert(msg);
    }


</script>


</body>
</html>